!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.formey=e()}(this,function(){"use strict";var r={formAttr:"data-submit-once",submitTextAttr:"data-submit-text",submitInProcessAttr:!1,clearAttrsOnInit:!0},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=u({},r,t),n=e.formAttr,o=e.submitTextAttr,c=e.submitInProcessAttr,s=e.clearAttrsOnInit;document.querySelectorAll("["+n+"]").forEach(function(u){var t,e,r,i=(t=u,Array.prototype.find.call(t.querySelectorAll("button, input"),function(t){return"submit"===t.type})),a=(r=o,(e=i).getAttribute(r)&&e.getAttribute(r).trim()),l=!1;s&&[{el:u,attr:n},{el:i,attr:o}].forEach(function(t){return t.el.removeAttribute(t.attr)}),u.addEventListener("submit",function(t){var e,r,n,o;t.preventDefault(),l||(u.submit(),i.disabled=!0,i.style.cursor="not-allowed",u.querySelectorAll("button, input, select, textarea").forEach(function(t){return t.setAttribute("readonly","readonly")}),r=a,"BUTTON"===(e=i).tagName?e.textContent=r||e.textContent:"INPUT"===e.tagName&&(e.value=r||e.value),n=i,(o=c)&&n.setAttribute(o.trim(),!0),l=!0)})})}});
